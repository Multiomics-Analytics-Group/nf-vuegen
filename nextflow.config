process.container = 'quay.io/dtu_biosustain_dsp/vuegen:v0.3.1-nextflow'
docker.enabled = true
params {
    config = null
    directory = null
}

workflow.onComplete = {
    println """\n
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    ğŸ‰ Pipeline Execution Complete! ğŸ‰
    """.stripIndent()

    if (params.report_type == 'streamlit') {
        println """\
        ğŸš€ Streamlit Report Generated!
        
        ğŸ“‚ All scripts to build the Streamlit app are available at:
            nf_container_results/streamlit_report/sections

        â–¶ï¸ To run the Streamlit app, use the following command:
          streamlit run nf_container_results/streamlit_report/sections/report_manager.py

        âœ¨ You can extend the report by adding new files to the input directory or updating the config file.
        
        ğŸ› ï¸ Advanced users can modify the Python scripts directly in:
            nf_container_results/streamlit_report/sections
        """.stripIndent()
    } else {
        println """\
        ğŸš€ ${params.report_type.capitalize()} Report Generated!
        
        ğŸ“‚ Your ${params.report_type} report is available at:
            nf_container_results/quarto_report
        
        âœ¨ You can extend the report by adding new files to the input directory or updating the config file.
        
        ğŸ› ï¸ Advanced users can modify the report template directly in:
            nf_container_results/quarto_report/quarto_report.qmd
        """.stripIndent()
    }

    println """\
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    """.stripIndent()
}